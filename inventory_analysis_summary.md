# üì¶ –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã —Å–∫–ª–∞–¥–∞: –°–≤–æ–¥–∫–∞

## üéØ **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**

### **–ß—Ç–æ –µ—Å—Ç—å:**

‚úÖ **–ú–æ–¥–µ–ª–∏ –ë–î** - `InventoryItem`, `InventoryTransaction`  
‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω–∞  
‚úÖ **Filament UI** - —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - `docs/inventory_domain.md`

### **–ß—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

‚ùå **–î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏** - –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã  
‚ùå **–î–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã** - –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã  
‚ùå **–°–æ–±—ã—Ç–∏—è** - –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã  
‚ùå **Application —Å—Ü–µ–Ω–∞—Ä–∏–∏** - –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã  
‚ùå **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** - –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã  
‚ùå **–ú–∞–ø–ø–µ—Ä—ã** - –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã

---

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞)**

### **–°–ª–æ–∏:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Filament UI   ‚îÇ ‚Üê –ì–æ—Ç–æ–≤–æ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Application   ‚îÇ ‚Üê –ü—É—Å—Ç–æ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     Domain      ‚îÇ ‚Üê –ü—É—Å—Ç–æ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Infrastructure  ‚îÇ ‚Üê –ü—É—Å—Ç–æ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (–≥–æ—Ç–æ–≤–∞)**

### **InventoryItem:**

-   `id`, `name`, `sku` (unique)
-   `quantity` (int), `unit` (string)
-   `min_stock` (int), `is_deleted` (bool)
-   `timestamps`

### **InventoryTransaction:**

-   `id`, `item_id` (FK)
-   `type` (enum: 'in', 'out', 'adjustment')
-   `quantity` (int), `order_id` (nullable FK)
-   `description` (text), `timestamps`

---

## üé® **UI (–≥–æ—Ç–æ–≤–æ)**

### **InventoryResource (Manager):**

-   –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
-   –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Å—Ç–∞—Ç–∫–æ–≤
-   –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É –∑–∞–ø–∞—Å–æ–≤
-   –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø–∞—Å–æ–≤

### **InventoryTransactionResource (Master):**

-   –°–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (`out`)
-   –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ (`adjustment`)
-   –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∑–∞–∫–∞–∑–∞–º

---

## üîß **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞)**

### **–û–ø–µ—Ä–∞—Ü–∏–∏:**

1. **–ü—Ä–∏—Ö–æ–¥** (`in`) - –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞
2. **–†–∞—Å—Ö–æ–¥** (`out`) - —Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥ –∑–∞–∫–∞–∑
3. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞** (`adjustment`) - –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è

### **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã:**

-   –û—Å—Ç–∞—Ç–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
-   –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
-   –¢—Ä–µ–π—Å–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –∑–∞–∫–∞–∑–∞–º

---

## üìã **–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å**

### **1. –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**

```php
// InventoryItem (–∞–≥—Ä–µ–≥–∞—Ç)
class InventoryItem extends AggregateRoot
{
    private InventoryItemId $id;
    private string $name;
    private SKU $sku;
    private Quantity $quantity;
    private Unit $unit;
    private MinStock $minStock;

    public function addStock(Quantity $amount): void
    public function deductStock(Quantity $amount): void
    public function adjustStock(Quantity $newAmount): void
}

// InventoryTransaction (—Å—É—â–Ω–æ—Å—Ç—å)
class InventoryTransaction
{
    private InventoryTransactionId $id;
    private InventoryItemId $itemId;
    private TransactionType $type;
    private Quantity $quantity;
    private ?OrderId $orderId;
    private string $description;
}
```

### **2. –î–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**

```php
class InventoryService
{
    public function addStock(InventoryItemId $itemId, Quantity $amount): void
    public function deductStock(InventoryItemId $itemId, Quantity $amount, ?OrderId $orderId): void
    public function adjustStock(InventoryItemId $itemId, Quantity $newAmount, string $reason): void
}
```

### **3. –°–æ–±—ã—Ç–∏—è:**

```php
class StockChanged extends DomainEvent
{
    public function __construct(
        public readonly InventoryItemId $itemId,
        public readonly Quantity $oldQuantity,
        public readonly Quantity $newQuantity,
        public readonly TransactionType $changeType
    ) {}
}
```

### **4. Application —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

```php
class AddItem
{
    public function execute(AddItemRequest $request): Result
    {
        // –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –î–æ–º–µ–Ω ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –°–æ–±—ã—Ç–∏—è
    }
}

class DeductStock
{
    public function execute(DeductStockRequest $request): Result
    {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ ‚Üí –°–ø–∏—Å–∞–Ω–∏–µ ‚Üí –°–æ–±—ã—Ç–∏—è
    }
}
```

---

## üöÄ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

### **–í—ã—Å–æ–∫–∏–π:**

1. **–î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏** - –æ—Å–Ω–æ–≤–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
2. **–î–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å–∫–ª–∞–¥–æ–º
3. **–°–æ–±—ã—Ç–∏—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### **–°—Ä–µ–¥–Ω–∏–π:**

4. **Application —Å—Ü–µ–Ω–∞—Ä–∏–∏** - API –¥–ª—è UI
5. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** - –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º

### **–ù–∏–∑–∫–∏–π:**

6. **–ú–∞–ø–ø–µ—Ä—ã** - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–æ–º–µ–Ω ‚Üî Eloquent
7. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** - —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä—Ç–∏–∏

---

## üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**

### **1. –ù–∞—á–∞—Ç—å —Å –¥–æ–º–µ–Ω–∞:**

-   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `InventoryItem` –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç
-   –î–æ–±–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
-   –°–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### **2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∑–∞–∫–∞–∑–∞–º–∏:**

-   –°–≤—è–∑–∞—Ç—å —Å–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å –∑–∞–∫–∞–∑–∞–º–∏
-   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞
-   –í–æ–∑–≤—Ä–∞—Ç –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–∫–∞–∑–∞

### **3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**

-   –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–∞—Å—ã ‚Üí Telegram
-   –ù–∏–∑–∫–∏–π –∑–∞–ø–∞—Å ‚Üí –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
-   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Å–æ–±—ã—Ç–∏–π

---

## üéØ **–ò—Ç–æ–≥**

**–°–∏—Å—Ç–µ–º–∞ —Å–∫–ª–∞–¥–∞ –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.**

-   ‚úÖ **UI –≥–æ—Ç–æ–≤** - –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä–∞–º–∏
-   ‚úÖ **–ë–î –≥–æ—Ç–æ–≤–∞** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞
-   ‚ùå **–õ–æ–≥–∏–∫–∞ –ø—É—Å—Ç–∞** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–æ —Å–∫–ª–∞–¥–æ–º.
