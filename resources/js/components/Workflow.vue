<script>
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
export default {
    name: "Workflow",
    data() {
        return {
            workflowSteps: [
                {
                    id: 1,
                    title: "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
                    description:
                        "–û—Å–º–æ—Ç—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Å–±–æ—Ä –∂–∞–ª–æ–±, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç",
                    icon: "üîç",
                    color: "blue",
                },
                {
                    id: 2,
                    title: "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ",
                    description: "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ä–µ–º–æ–Ω—Ç–∞ –∞–ø–ø–∞—Ä–∞—Ç–æ–≤",
                    icon: "ü§ù",
                    color: "pink",
                },
                {
                    id: 3,
                    title: "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ",
                    description:
                        "–†–∞–±–æ—Ç–∞ –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º",
                    icon: "‚öôÔ∏è",
                    color: "light-pink",
                },
                {
                    id: 4,
                    title: "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞",
                    description:
                        "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ç–æ—á–∫–∏ (–ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 3 –¥–Ω–µ–π), –ø—Ä–æ–∫–∞—Ç–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–∞ –Ω–∞ —Ö–æ–ª–æ—Å—Ç–æ–º —Ö–æ–¥—É",
                    icon: "‚úÖ",
                    color: "dark-blue",
                },
                {
                    id: 5,
                    title: "–£–ø–∞–∫–æ–≤–∫–∞",
                    description:
                        "–¢—â–∞—Ç–µ–ª—å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ",
                    icon: "üì¶",
                    color: "green",
                },
                {
                    id: 6,
                    title: "–î–æ—Å—Ç–∞–≤–∫–∞",
                    description: "–ë–µ—Ä–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –∫—É—Ä—å–µ—Ä –ø—Ä–æ–∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä–æ–≤–∞–Ω",
                    icon: "üöö",
                    color: "purple",
                },
            ],
        };
    },
    computed: {
        firstRowSteps() {
            return this.workflowSteps.slice(0, 3);
        },
        secondRowSteps() {
            return this.workflowSteps.slice(3, 6);
        },
    },
    mounted() {
        gsap.registerPlugin(ScrollTrigger);
        this.animateCards();
    },
    methods: {
        animateCards() {
            // –ê–Ω–∏–º–∞—Ü–∏—è —Å ScrollTrigger - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
            gsap.fromTo(
                ".workflow-card",
                {
                    x: -100,
                    opacity: 0,
                },
                {
                    x: 0,
                    opacity: 1,
                    duration: 0.8,
                    ease: "power2.out",
                    stagger: 0.5, // –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ –ø–æ–ª—Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
                    scrollTrigger: {
                        trigger: ".workflow-container",
                        start: "top 80%", // –∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–µ—Ä—Ö —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞ 80% –æ—Ç –≤–µ—Ä—Ö–∞ —ç–∫—Ä–∞–Ω–∞
                        end: "bottom 20%",
                        toggleActions: "play none none reverse", // –∏–≥—Ä–∞—Ç—å –ø—Ä–∏ –≤—Ö–æ–¥–µ, –Ω–µ –¥–µ–ª–∞—Ç—å –Ω–∏—á–µ–≥–æ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ, –Ω–µ –∏–≥—Ä–∞—Ç—å –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ, –∏–≥—Ä–∞—Ç—å –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
                    },
                }
            );
        },
    },
};
</script>

<template>
    <div class="workflow-container space-y-12">
        <!-- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: —à–∞–≥–∏ 1-3 -->
        <div
            class="flex flex-col lg:flex-row lg:justify-between gap-8 lg:gap-4"
        >
            <div
                v-for="step in firstRowSteps"
                :key="step.id"
                class="flex-1 text-center group"
            >
                <div
                    class="workflow-card bg-white/90 backdrop-blur-xl rounded-3xl p-6 shadow-xl border border-white/20 dark:bg-gray-800/90 dark:border-gray-600/30 group-hover:shadow-2xl group-hover:scale-105 transition-all duration-300 h-full flex flex-col"
                >
                    <!-- –ù—É–º–µ—Ä–∞—Ü–∏—è –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
                    <div
                        :class="[
                            'absolute top-4 left-4 text-2xl font-jost-bold',
                            `text-${step.color}-500/60 dark:text-${step.color}-400/60`,
                        ]"
                    >
                        {{ step.id }}
                    </div>

                    <div
                        :class="[
                            'w-16 h-16 rounded-3xl flex items-center justify-center mx-auto mb-4 mt-2',
                            `bg-${step.color}-500/20`,
                        ]"
                    >
                        <span class="text-3xl">{{ step.icon }}</span>
                    </div>
                    <h3
                        class="text-lg font-jost-bold text-dark-gray-500 mb-2 dark:text-gray-100"
                    >
                        {{ step.title }}
                    </h3>
                    <p
                        class="text-sm text-gray-500 font-jost-regular dark:text-gray-400 flex-grow"
                    >
                        {{ step.description }}
                    </p>
                </div>
            </div>
        </div>

        <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞: —à–∞–≥–∏ 4-6 -->
        <div
            class="flex flex-col lg:flex-row lg:justify-between gap-8 lg:gap-4"
        >
            <div
                v-for="step in secondRowSteps"
                :key="step.id"
                class="flex-1 text-center group"
            >
                <div
                    class="workflow-card bg-white/90 backdrop-blur-xl rounded-3xl p-6 shadow-xl border border-white/20 dark:bg-gray-800/90 dark:border-gray-600/30 group-hover:shadow-2xl group-hover:scale-105 transition-all duration-300 h-full flex flex-col"
                >
                    <!-- –ù—É–º–µ—Ä–∞—Ü–∏—è –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
                    <div
                        :class="[
                            'absolute top-4 left-4 text-2xl font-jost-bold',
                            `text-${step.color}-500/60 dark:text-${step.color}-400/60`,
                        ]"
                    >
                        {{ step.id }}
                    </div>

                    <div
                        :class="[
                            'w-16 h-16 rounded-3xl flex items-center justify-center mx-auto mb-4 mt-2',
                            `bg-${step.color}-500/20`,
                        ]"
                    >
                        <span class="text-3xl">{{ step.icon }}</span>
                    </div>
                    <h3
                        class="text-lg font-jost-bold text-dark-gray-500 mb-2 dark:text-gray-100"
                    >
                        {{ step.title }}
                    </h3>
                    <p
                        class="text-sm text-gray-500 font-jost-regular dark:text-gray-400 flex-grow"
                    >
                        {{ step.description }}
                    </p>
                </div>
            </div>
        </div>
    </div>
</template>

<style scoped></style>
